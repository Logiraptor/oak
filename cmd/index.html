<html>
    <style>
        #messages {
            overflow: auto;
            height: 400px;
        }
    </style>
    <body>
        <img src="/graph.png" alt="">

        <div id="messages">

        </div>

        <script>
            var output = document.getElementById("messages");
            function writeMessage(message) {
                var badge = document.createElement("div");
                badge.style.display = "inline-block";
                badge.style.backgroundColor = message.Color;
                badge.style.width = "10px";
                badge.style.height = "10px";
                var node = document.createElement("span");
                node.appendChild(document.createTextNode(message.Message));
                output.appendChild(badge);
                output.appendChild(node);
                output.appendChild(document.createElement("br"));
            }

            var ws = new WebSocket("ws://localhost:9999/messages");
            ws.onopen = function(event) {
                writeMessage({Message: "Connection established", Color: "#000000"});
            }

            ws.onmessage = function(event) {
                var obj = JSON.parse(event.data);
                writeMessage(obj);
            }
        </script>
    </body>
</html>